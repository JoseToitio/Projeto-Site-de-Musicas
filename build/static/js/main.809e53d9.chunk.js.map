{"version":3,"sources":["services/userAPI.js","components/Loading.jsx","components/Header.jsx","services/musicsAPI.js","components/MusicCard.jsx","services/favoriteSongsAPI.js","pages/Album.jsx","pages/Favorites.jsx","pages/Login.jsx","pages/NotFound.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","services/searchAlbumsAPI.js","pages/Search.jsx","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Loading","React","Component","Header","state","render","getUserAPI","bind","loadUser","this","setState","a","getUserName","className","to","getMusics","id","fetch","request","json","requestJson","results","MusicCard","props","previewUrl","trackId","saveFavorite","favorites","src","controls","kind","htmlFor","type","checked","onChange","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","Album","albumMusics","artistName","allAlbums","loading","songsLike","getMusicsAlbum","loadingPage","getFavoriteSongs","match","params","arrayAlbum","artist","find","array","collectionName","filter","filtro","undefined","then","target","song","filterAlbum","album","Number","albumcd","map","trackName","some","music","Favorites","Login","reloading","handleChange","disableButton","clickButton","value","length","placeholder","disabled","onClick","NotFound","Profile","ProfileEdit","searchAlbumsAPI","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","APIResponse","artistId","collectionId","collectionPrice","artworkUrl100","releaseDate","trackCount","Search","nameArtist","albums","saveNameArtist","handleClick","ar","index","alt","App","exact","path","component","ReactDOM","basename","process","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.809e53d9.chunk.js","sourcesContent":["const USER_KEY = 'user';\r\nconst TIMEOUT = 1500;\r\nconst SUCCESS_STATUS = 'OK';\r\n\r\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\r\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\r\n\r\n// --------------------------------------------------------------------\r\n// A função simulateRequest simula uma requisição para uma API externa\r\n// Esse tipo de função que \"chama outra função\" é chamada de\r\n// \"currying function\" https://javascript.info/currying-partials\r\n// não se preocupe, estudaremos isso mais futuramente\r\n// --------------------------------------------------------------------\r\n\r\nconst simulateRequest = (response) => (callback) => {\r\n  setTimeout(() => {\r\n    callback(response);\r\n  }, TIMEOUT);\r\n};\r\n\r\nexport const getUser = () => new Promise((resolve) => {\r\n  let user = readUser();\r\n  if (user === null) {\r\n    user = {};\r\n  }\r\n  simulateRequest(user)(resolve);\r\n});\r\n\r\nexport const createUser = (user) => new Promise((resolve) => {\r\n  const emptyUser = {\r\n    name: '',\r\n    email: '',\r\n    image: '',\r\n    description: '',\r\n  };\r\n  saveUser({ ...emptyUser, ...user });\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n\r\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\r\n  saveUser({ ...updatedUser });\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n","import React from 'react';\r\n\r\nclass Loading extends React.Component {\r\n  render() {\r\n    return <div>Carregando...</div>;\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getUser } from '../services/userAPI';\r\nimport Loading from './Loading';\r\n\r\nclass Header extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      user: '',\r\n      render: false,\r\n    };\r\n    this.getUserAPI = this.getUserAPI.bind(this);\r\n    this.loadUser = this.loadUser.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUserAPI();\r\n  }\r\n\r\n  getUserAPI() {\r\n    this.setState({\r\n      render: true,\r\n    }, async () => {\r\n      const getUserName = await getUser();\r\n      this.setState({\r\n        user: getUserName.name,\r\n        render: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  loadUser() {\r\n    const { user } = this.state;\r\n    return (\r\n      <span data-testid=\"header-user-name\">{`Usuario: ${user}`}</span>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { render } = this.state;\r\n    return (\r\n      <header data-testid=\"header-component\" className=\"header\">\r\n        {render ? <Loading /> : this.loadUser()}\r\n        <Link to=\"/search\" data-testid=\"link-to-search\">Search</Link>\r\n        <Link to=\"/album/:id\">Album</Link>\r\n        <Link to=\"/favorites\" data-testid=\"link-to-favorites\">Favoritos</Link>\r\n        <Link to=\"/profile\" data-testid=\"link-to-profile\">Profile</Link>\r\n        <Link to=\"/profile/edit\">Profile Edit</Link>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","const getMusics = async (id) => {\r\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\r\n  const requestJson = await request.json();\r\n  return requestJson.results;\r\n};\r\n\r\nexport default getMusics;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass MusicCard extends React.Component {\r\n  render() {\r\n    const {\r\n      previewUrl,\r\n      name,\r\n      trackId,\r\n      saveFavorite,\r\n      favorites,\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <p>{`${name}`}</p>\r\n          <audio\r\n            data-testid=\"audio-component\"\r\n            src={ previewUrl }\r\n            controls\r\n          >\r\n            <track kind=\"captions\" />\r\n            O seu navegador não suporta o elemento.\r\n            <code>audio</code>\r\n          </audio>\r\n          <label htmlFor={ trackId }>\r\n            Favorita\r\n            <input\r\n              type=\"checkbox\"\r\n              id={ trackId }\r\n              data-testid={ `checkbox-music-${trackId}` }\r\n              checked={ favorites }\r\n              onChange={ saveFavorite }\r\n            />\r\n          </label>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nMusicCard.propTypes = {\r\n  previewUrl: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  trackId: PropTypes.number.isRequired,\r\n  saveFavorite: PropTypes.func.isRequired,\r\n  favorites: PropTypes.bool.isRequired,\r\n};\r\nexport default MusicCard;\r\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\r\nconst TIMEOUT = 500;\r\nconst SUCCESS_STATUS = 'OK';\r\n\r\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\r\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\r\n}\r\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\r\n\r\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\r\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\r\n\r\n// --------------------------------------------------------------------\r\n// A função simulateRequest simula uma requisição para uma API externa\r\n// Esse tipo de função que \"chama outra função\" é chamada de\r\n// \"currying function\" https://javascript.info/currying-partials\r\n// não se preocupe, estudaremos isso futuramente.\r\n// --------------------------------------------------------------------\r\n\r\nconst simulateRequest = (response) => (callback) => {\r\n  setTimeout(() => {\r\n    callback(response);\r\n  }, TIMEOUT);\r\n};\r\n\r\nexport const getFavoriteSongs = () => new Promise((resolve) => {\r\n  const favoriteSongs = readFavoriteSongs();\r\n  simulateRequest(favoriteSongs)(resolve);\r\n});\r\n\r\nexport const addSong = (song) => new Promise((resolve) => {\r\n  if (song) {\r\n    const favoriteSongs = readFavoriteSongs();\r\n    saveFavoriteSongs([...favoriteSongs, song]);\r\n  }\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n\r\nexport const removeSong = (song) => new Promise((resolve) => {\r\n  const favoriteSongs = readFavoriteSongs();\r\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Header from '../components/Header';\r\nimport getMusics from '../services/musicsAPI';\r\nimport MusicCard from '../components/MusicCard';\r\nimport Loading from '../components/Loading';\r\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\r\n\r\nclass Album extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      albumMusics: '',\r\n      artistName: '',\r\n      allAlbums: [],\r\n      loading: true,\r\n      songsLike: [],\r\n    };\r\n    this.getMusicsAlbum = this.getMusicsAlbum.bind(this);\r\n    this.saveFavorite = this.saveFavorite.bind(this);\r\n    this.loadingPage = this.loadingPage.bind(this);\r\n    this.getFavoriteSongs = this.getFavoriteSongs.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match: { params: { id } } } = this.props;\r\n    this.getMusicsAlbum(id);\r\n    this.getFavoriteSongs();\r\n  }\r\n\r\n  async getMusicsAlbum(id) {\r\n    const arrayAlbum = await getMusics(id);\r\n    const artist = arrayAlbum.find((array) => array.artistName);\r\n    this.setState({\r\n      albumMusics: artist.collectionName,\r\n      artistName: artist.artistName,\r\n      allAlbums: arrayAlbum.filter((filtro) => filtro.trackId !== undefined),\r\n      loading: false,\r\n    });\r\n  }\r\n\r\n  async getFavoriteSongs() {\r\n    await getFavoriteSongs()\r\n      .then((response) => this.setState(({ songsLike }) => ({\r\n        songsLike: [...songsLike, ...response],\r\n      })));\r\n  }\r\n\r\n  saveFavorite({ target }) {\r\n    const { allAlbums } = this.state;\r\n    this.loadingPage();\r\n    const filterAlbum = allAlbums.find((album) => album.trackId === Number(target.id));\r\n    addSong(allAlbums)\r\n      .then(() => {\r\n        this.setState(({ songsLike }) => ({ loading: false,\r\n          songsLike: [...songsLike, filterAlbum],\r\n        }));\r\n      });\r\n  }\r\n\r\n  loadingPage() {\r\n    this.setState(({ loading }) => ({\r\n      loading: !loading,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { albumMusics, artistName, allAlbums, loading, songsLike } = this.state;\r\n    const artist = <p data-testid=\"artist-name\">{`${artistName}`}</p>;\r\n    const albumcd = <p data-testid=\"album-name\">{`${albumMusics}`}</p>;\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div>\r\n          { artist }\r\n          { albumcd }\r\n        </div>\r\n        <div data-testid=\"page-album\">\r\n          {loading && <Loading />}\r\n          <div className=\"track\">\r\n            {!loading && allAlbums\r\n              .map((album) => (\r\n                <MusicCard\r\n                  key={ album.trackId }\r\n                  previewUrl={ album.previewUrl }\r\n                  name={ album.trackName }\r\n                  trackId={ album.trackId }\r\n                  saveFavorite={ this.saveFavorite }\r\n                  favorites={ songsLike.some((music) => music.trackId === album.trackId) }\r\n                />\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAlbum.propTypes = {\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default Album;\r\n","import React from 'react';\r\nimport Header from '../components/Header';\r\n\r\nclass Favorites extends React.Component {\r\n  render() {\r\n    return (\r\n      <div data-testid=\"page-favorites\">\r\n        <Header />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport Loading from '../components/Loading';\r\nimport { createUser } from '../services/userAPI';\r\n\r\nclass Login extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      user: '',\r\n      loading: false,\r\n      reloading: false,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.disableButton = this.disableButton.bind(this);\r\n    this.clickButton = this.clickButton.bind(this);\r\n  }\r\n\r\n  handleChange({ target }) {\r\n    this.setState({\r\n      user: target.value,\r\n    });\r\n  }\r\n\r\n  disableButton() {\r\n    const { user } = this.state;\r\n    const number = 3;\r\n    if (user.length >= number) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  async clickButton() {\r\n    const { user } = this.state;\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    await createUser({ name: user });\r\n    this.setState(() => ({ loading: false, reloading: true }));\r\n  }\r\n\r\n  render() {\r\n    const { reloading, loading } = this.state;\r\n    return (\r\n      <div data-testid=\"page-login\">\r\n        <form>\r\n          <input\r\n            type=\"text\"\r\n            name=\"nome\"\r\n            placeholder=\"Digite seu nome\"\r\n            data-testid=\"login-name-input\"\r\n            onChange={ this.handleChange }\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            data-testid=\"login-submit-button\"\r\n            disabled={ this.disableButton() }\r\n            onClick={ () => this.clickButton() }\r\n          >\r\n            Entrar\r\n          </button>\r\n        </form>\r\n        { reloading && <Redirect to=\"/search\" /> }\r\n        {loading && <Loading />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nclass NotFound extends React.Component {\r\n  render() {\r\n    return <div data-testid=\"page-not-found\"> </div>;\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport Header from '../components/Header';\r\n\r\nclass Profile extends React.Component {\r\n  render() {\r\n    return (\r\n      <div data-testid=\"page-profile\">\r\n        <Header />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Header from '../components/Header';\r\n\r\nclass ProfileEdit extends React.Component {\r\n  render() {\r\n    return (\r\n      <div data-testid=\"page-profile-edit\">\r\n        <Header />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileEdit;\r\n","const searchAlbumsAPI = async (artist) => {\r\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\r\n\r\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\r\n\r\n  const APIResponse = await fetch(getAlbumsAPI);\r\n\r\n  const { results } = await APIResponse.json();\r\n\r\n  const response = results.map(\r\n    ({\r\n      artistId,\r\n      artistName,\r\n      collectionId,\r\n      collectionName,\r\n      collectionPrice,\r\n      artworkUrl100,\r\n      releaseDate,\r\n      trackCount,\r\n    }) => ({\r\n      artistId,\r\n      artistName,\r\n      collectionId,\r\n      collectionName,\r\n      collectionPrice,\r\n      artworkUrl100,\r\n      releaseDate,\r\n      trackCount,\r\n    }),\r\n  );\r\n  return response;\r\n};\r\n\r\nexport default searchAlbumsAPI;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport Loading from '../components/Loading';\r\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\r\n\r\nclass Search extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      nameArtist: '',\r\n      render: false,\r\n      albums: [],\r\n      saveNameArtist: '',\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleChange({ target }) {\r\n    this.setState({\r\n      nameArtist: target.value,\r\n    });\r\n  }\r\n\r\n  async handleClick() {\r\n    const { nameArtist } = this.state;\r\n    this.setState({\r\n      render: true,\r\n      saveNameArtist: nameArtist,\r\n    });\r\n    const artist = await searchAlbumsAPI(nameArtist);\r\n    this.setState({\r\n      nameArtist: '',\r\n      render: false,\r\n      albums: artist.map((ar) => ar),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { nameArtist, render, albums, saveNameArtist } = this.state;\r\n    return (\r\n      <div data-testid=\"page-search\">\r\n        <Header />\r\n        <form>\r\n          <input\r\n            type=\"text\"\r\n            name=\"find\"\r\n            value={ nameArtist }\r\n            data-testid=\"search-artist-input\"\r\n            onChange={ this.handleChange }\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            disabled={ nameArtist.length < 2 }\r\n            data-testid=\"search-artist-button\"\r\n            onClick={ () => this.handleClick() }\r\n          >\r\n            Pesquisar\r\n          </button>\r\n        </form>\r\n        <div>\r\n          {render && <Loading /> }\r\n          {albums.length > 0\r\n            ? <p>{`Resultado de álbuns de: ${saveNameArtist}`}</p>\r\n            : <p>Nenhum álbum foi encontrado</p>}\r\n        </div>\r\n        <div className=\"super-div\">\r\n          {!render && albums.map((album, index) => (\r\n            <div key={ index } className=\"div-albums\">\r\n              <div className=\"div-items\">\r\n                <Link\r\n                  to={ `/album/${album.collectionId}` }\r\n                  data-testid={ `link-to-album-${album.collectionId}` }\r\n                >\r\n                  <p>{album.artistName}</p>\r\n                </Link>\r\n                <p>{album.collectionName}</p>\r\n                <img src={ album.artworkUrl100 } alt={ album.artistName } />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router';\r\nimport Album from './pages/Album';\r\nimport Favorites from './pages/Favorites';\r\nimport Login from './pages/Login';\r\nimport NotFound from './pages/NotFound';\r\nimport Profile from './pages/Profile';\r\nimport ProfileEdit from './pages/ProfileEdit';\r\nimport Search from './pages/Search';\r\nimport './styles/style.css';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <h1>TrybeTunes</h1>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={ Login } />\r\n          <Route exact path=\"/search\" component={ Search } />\r\n          <Route exact path=\"/album/:id\" component={ Album } />\r\n          <Route exact path=\"/favorites\" component={ Favorites } />\r\n          <Route exact path=\"/profile\" component={ Profile } />\r\n          <Route exact path=\"/profile/edit\" component={ ProfileEdit } />\r\n          <Route exact path=\"*\" component={ NotFound } />\r\n        </Switch>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}